{{ $data := index .Site.Data .Site.Language.Lang }}

{{- if $data.homepage.banner.enable }}
{{- with $data.homepage.banner }}
<section class="section">
	<div class="container">
		<div class="row">
			<div class="col-md-6 text-center p-4 mb-md-0 zoom">
				{{/* HUGO IMAGE RENDERER */}}
				{{ $image_class := "img-fluid"}}
				{{ $image_path := .image }}
				{{ $image := resources.Get $image_path }}
				{{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
				{{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
				{{ $resolutions := slice "320x" "600x" "1200x" }}
				{{ range $index, $resolutions }}
					{{ $image_resized := $image.Resize . }}
					{{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_resized "ImgParam" (printf "%dx%d webp q100" $image_resized.Width $image_resized.Height)) }}
					{{ $.Scratch.Add "srcset_webp" (printf "%s %s," $post_image_webp (replace . "x" "w")) }}
					{{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_resized "ImgParam" (printf "%dx%d jpg q100" $image_resized.Width $image_resized.Height)) }}
					{{ $.Scratch.Add "srcset_jpg" (printf "%s %s," $post_image_jpg (replace . "x" "w")) }}
				{{ end }}
				<picture>
					<source type="image/webp" srcset='{{ $.Scratch.Get "srcset_webp" }}'>
					<source type="image/jpeg" srcset='{{ $.Scratch.Get "srcset_jpg" }}'>
					<img loading="eager" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }} banner'>
				</picture>
			</div>
			<div class="col-md-6 align-self-center text-center text-md-left">
				<div class="block">
					<h1 class="font-weight-bold mb-4 font-size-50">{{ $.Page.RenderString .title }}</h1>
					<p class="mb-4">{{ $.Page.RenderString .content }}</p>
					{{ if .button.enable }}
					{{ with .button }}
					<a href="{{ .link | absLangURL }}" class="btn btn-main">{{.label}}</a>
					{{ end }}
					{{ end }}
				</div>
			</div>
		</div>
	</div>
</section>
{{- end }}
{{- end }}



{{/*  
{{ $data := index .Site.Data .Site.Language.Lang }}

{{- if $data.homepage.banner.enable }}
{{- with $data.homepage.banner }}
<section class="section">
	<div class="container">
		<div class="row">
			<div class="col-md-6 text-center p-4 mb-md-0 zoom">
				{{ $image_class := "img-fluid"}}
				{{ $image_path := .image }}
				{{ $image := resources.Get $image_path }}
				{{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
				{{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
				<picture>
					<source srcset="{{ $post_image_webp }}" type="image/webp">
					<source srcset="{{ $post_image_jpg }}" type="image/jpeg">
					<img loading="eager" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }} banner'>
				</picture>
			</div>
			<div class="col-md-6 align-self-center text-center text-md-left">
				<div class="block">
					<h1 class="font-weight-bold mb-4 font-size-50">{{ $.Page.RenderString .title }}</h1>
					<p class="mb-4">{{ $.Page.RenderString .content }}</p>
					{{ if .button.enable }}
					{{ with .button }}
					<a href="{{ .link | absLangURL }}" class="btn btn-main">{{.label}}</a>
					{{ end }}
					{{ end }}
				</div>
			</div>
		</div>
	</div>
</section>
{{- end }}
{{- end }}  
*/}}
