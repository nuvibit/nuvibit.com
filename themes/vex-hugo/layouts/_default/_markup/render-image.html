<div class="col-md-10 m-auto p-3 text-right zoom">
    {{/* HUGO IMAGE RENDERER */}}
    {{ $image_resolutions := (slice "300x" "500x" "800x") }}
    {{ $image_data := newScratch }}
    {{ $image_class := "img-fluid"}}
    {{ $image_path := (replace .Destination "-highres.png" ".png") }}
    {{ $image_buffer := resources.Get $image_path }}
    {{ $image_fallback := partial "imageConverter.html" (dict "ImageSrc" $image_buffer "ImgParam" (printf "%s jpg #fafafa q90 Lanczos" (index $image_resolutions 1))) }}
    {{ range $index, $image_resolutions }}
        {{ $image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_buffer "ImgParam" (printf "%s webp q90 Lanczos" .)) }}
        {{ $image_data.Add "srcset_webp" (printf "%s %s," $image_webp (replace . "x" "w")) }}
        {{ $image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_buffer "ImgParam" (printf "%s jpg #fafafa q90 Lanczos" .)) }}
        {{ $image_data.Add "srcset_jpg" (printf "%s %s," $image_jpg (replace . "x" "w")) }}
    {{ end }}
    {{ $image_size := $image_buffer.Resize (index $image_resolutions 1) }}
    <picture>
        <source type="image/webp" srcset='{{ $image_data.Get "srcset_webp" }}'>
        <source type="image/jpeg" srcset='{{ $image_data.Get "srcset_jpg" }}'>
        <img loading="lazy" class="{{ $image_class }}" src="{{ $image_fallback }}" width="{{ $image_size.Width }}" height="{{ $image_size.Height }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
    </picture>
    {{/* HUGO IMAGE RENDERER */}}
    {{ $imgPath := .Destination }}
    {{- if strings.HasSuffix $imgPath "-highres.png" }}
    {{ $image_highres := resources.Get .Destination }}
    <a href='{{ $image_highres.RelPermalink }}' target="_blank"><i class="fas fa-external-link-alt"></i> high resolution</a>
    {{- else }}
    {{- end }}
</div>