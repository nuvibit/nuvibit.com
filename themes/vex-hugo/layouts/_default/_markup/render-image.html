<div class="col-md-10 m-auto p-3 text-right zoom">
    {{/* HUGO IMAGE RENDERER */}}
    {{ $img_data := newScratch }}
    {{ $image_class := "img-fluid"}}
    {{ $image_path := (replace .Destination "-highres.png" ".png") }}
    {{ $image := resources.Get $image_path }}
    {{ $image_fallback := partial "imageConverter.html" (dict "ImageSrc" $image "ImgParam" (printf "%s jpg #fafafa q100 Lanczos" (index site.Params.image_resolutions 1))) }}
    {{ $resolutions := site.Params.image_resolutions }}
    {{ range $index, $resolutions }}
        {{ $image_webp := partial "imageConverter.html" (dict "ImageSrc" $image "ImgParam" (printf "%s webp q100 Lanczos" .)) }}
        {{ $img_data.Add "srcset_webp" (printf "%s %s," $image_webp (replace . "x" "w")) }}
        {{ $image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image "ImgParam" (printf "%s jpg #fafafa q100 Lanczos" .)) }}
        {{ $img_data.Add "srcset_jpg" (printf "%s %s," $image_jpg (replace . "x" "w")) }}
    {{ end }}
    {{ $new_size := $image.Resize (index site.Params.image_resolutions 1) }}
    <picture>
        <source type="image/webp" srcset='{{ $img_data.Get "srcset_webp" }}'>
        <source type="image/jpeg" srcset='{{ $img_data.Get "srcset_jpg" }}'>
        <img loading="lazy" class="{{ $image_class }}" src="{{ $image_fallback }}" width="{{ $new_size.Width }}" height="{{ $new_size.Height }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
    </picture>
    {{/* HUGO IMAGE RENDERER */}}
    {{ $imgPath := .Destination }}
    {{- if strings.HasSuffix $imgPath "-highres.png" }}
    {{ $image_highres := resources.Get .Destination }}
    <a href='{{ $image_highres.RelPermalink }}' target="_blank"><i class="fas fa-external-link-alt"></i> high resolution</a>
    {{- else }}
    {{- end }}
</div>