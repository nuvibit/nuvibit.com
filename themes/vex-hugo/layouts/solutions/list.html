{{ define "main" }}

<!-- BANNER -->
{{- if .Params.banner_section.enable }}
{{- with .Params.banner_section }}
<section class="section" id="banner">
    <div class="container">
        <div class="row">
            <div class="col-md-6 text-center p-5 mb-md-0 zoom">
                {{/* HUGO IMAGE RENDERER */}}
                {{ $image_class := "img-fluid"}}
                {{ $image_path := .image }}
                {{ $image := resources.Get $image_path }}
                {{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
                {{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
                <picture>
                    <source srcset="{{ $post_image_webp }}" type="image/webp">
                    <source srcset="{{ $post_image_jpg }}" type="image/jpeg">
                    <img loading="eager" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
                </picture>
            </div>
            <div class="col-md-6 align-self-center text-center text-md-left">
                <div class="block">
                    <h1 class="font-weight-bold mb-4 font-size-60">{{ $.Page.RenderString .title }}</h1>
                    <p class="mb-4">{{ $.Page.RenderString .content }}</p>
                    {{ if .button.enable }}
                    {{ with .button }}
                    <a href="{{.link|absLangURL}}" class="btn btn-main">{{.label}}</a>
                    {{ end }}
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>
{{- end }}
{{- end }}
<!-- /BANNER -->

<!-- FEATURES -->
{{- if .Params.feature_section.enable }}
{{- with .Params.feature_section }}
<section class="section" id="features">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12">
                <div class="heading">
                    <h2>{{ $.Page.RenderString .title }}</h2>
                </div>
            </div>
            <div class="col-md-4">
                {{ range .left_side }}
                <div class="feature-body mb-40 text-center text-md-left">
                    <i class="fa {{ .icon }} fa-3x"></i>
                    <h4 class="font-weight-bold mb-2">{{ $.Page.RenderString .title }}</h4>
                    <p>{{ $.Page.RenderString .content }}</p>
                </div>
                {{ end }}
            </div>
            <div class="col-md-4 text-center align-self-center mb-5 p-5 zoom">
                {{/* HUGO IMAGE RENDERER */}}
                {{ $image_class := "img-fluid"}}
                {{ $image_path := .image }}
                {{ $image := resources.Get $image_path }}
                {{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
                {{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
                <picture>
                    <source srcset="{{ $post_image_webp }}" type="image/webp">
                    <source srcset="{{ $post_image_jpg }}" type="image/jpeg">
                    <img loading="lazy" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
                </picture>
            </div>
            <div class="col-md-4">
                {{ range .right_side }}
                <div class="feature-body mb-40 text-center text-md-left">
                    <i class="fas {{ .icon }} fa-3x"></i>
                    <h4 class="font-weight-bold mb-2">{{ $.Page.RenderString .title }}</h4>
                    <p>{{ $.Page.RenderString .content }}</p>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>
{{- end }}
{{- end }}
<!-- /FEATURES -->

<!-- EXCERPTS -->
{{ if .Params.excerpt_section.enable }}
{{ with .Params.excerpt_section }}
<section class="feature-list section pt-0" id="excepts">
    <div class="container">
        <div class="col-12 text-center">
            <div class="heading">
                <h2>{{ $.Page.RenderString .title }}</h2>
            </div>
        </div>
        {{range $index, $element := (where .list "enable" true) }}
        <div class="row item-row">
            <div class="col-md-6 order-md-1 order-2 align-self-center text-center text-md-left">
                <div class="content">
                    {{ if .title }}
                    <h4 class="subheading">{{ $.Page.RenderString .title }}</h4>
                    {{ end }}
                    {{ if .title_aws }}
                    <h4 class="subheading mt--20 color-aws">{{ $.Page.RenderString .title_aws }}</h4>
                    {{ end }}
                    <p class="md">{{ $.Page.RenderString .content }}</p>
                    {{ if .button.enable }}
                    {{ with .button }}
                    <p><a href="{{ .link | absLangURL }}" class="link-primary">{{ .label }}</a></p>
                    {{ end }}
                    {{ end }}
                </div>
            </div>
            <div class="col-md-6 order-md-2 order-1 text-center p-5 mb-lg-0 zoom">
                {{/* HUGO IMAGE RENDERER */}}
                {{ $image_class := "img-fluid img-max-400"}}
                {{ $image_path := .image }}
                {{ $image := resources.Get $image_path }}
                {{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
                {{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
                <picture>
                    <source srcset="{{ $post_image_webp }}" type="image/webp">
                    <source srcset="{{ $post_image_jpg }}" type="image/jpeg">
                    <img loading="lazy" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
                </picture>
            </div>
        </div>
        {{ end }}
    </div>
</section>
{{ end }}
{{ end }}
<!-- /EXCERPTS -->

<!-- TESTIMONIALS -->
{{- if .Params.testimonial_section.enable }}
{{- with .Params.testimonial_section }}
<section class="gallery testimonials section pt-0" id="testimonial">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <div class="heading">
                    <h2>{{ $.Page.RenderString .title }}</h2>
                </div>

                <div class="product-slider">
                    {{ range .list }}
                    <div class="block mr-3 ml-3" id="testimonial-element" data-value="{{ .Permalink }}">
                        <div class="text-center testimonial-block">
                            <i class="fas fa-quote-right"></i>
                            <p>{{ $.Page.RenderString .content }}</p>
                        </div>
                        <div class="gallery-overlay">
                            <a href="{{ .link | absLangURL }}" class="gallery-popup">
                                <i class="fas fa-plus"></i>
                            </a>
                        </div>
                        <div class="mr-5 ml-5">
                            {{/* HUGO IMAGE RENDERER */}}
                            {{ $image_class := "customer-logo img-fluid"}}
                            {{ $image_path := .image }}
                            {{ $image := resources.Get $image_path }}
                            {{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
                            {{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
                            <picture>
                                <source srcset="{{ $post_image_webp }}" type="image/webp">
                                <source srcset="{{ $post_image_jpg }}" type="image/jpeg">
                                <img loading="lazy" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Customer logo of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }}'>
                            </picture>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>
{{- end }}
{{- end }}
<!-- TESTIMONIALS -->

<!-- MARKDOWN CONTENT -->
{{- if .Params.markdown_content.enable }}
<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-12 text-center text-md-left mb-5">
            <div class="container markdown">
                {{ .Content }}
            </div>
        </div>
    </div>
</div>
{{- end }}
<!-- /MARKDOWN CONTENT -->

<!-- LINKS -->
{{- if .Params.link_section.enable }}
{{- with .Params.link_section }}
<section class="section pt-0" id="links">
    <div class="container">
        {{ range .list }}
        {{- if .enable }}
        <div class="row">
            <div class="col-md-12 align-self-center text-center text-md-left">
                <div class="block mb-4">
                    <h2 class="font-weight-bold mb-4">{{ $.Page.RenderString .title }}</h1>
                        <p>
                        <ul class="list-group">
                            {{ $.Page.RenderString .content }}
                            {{ if not .blogs }}
                            {{ range .links }}
                            <li class="list-group-item">
                                {{ if hasPrefix .url "media/" }}
                                <a href="{{ .url | absURL }}" target="_blank" class="link-primary">{{
                                    $.Page.RenderString .link_name }}</a>
                                {{ else }}
                                <a href="{{ .url | absLangURL }}" class="link-primary">{{ $.Page.RenderString .link_name
                                    }}</a>
                                {{ end }}
                            </li>
                            {{ end }}
                            {{ end }}
                        </ul>

                        <ul class="list-group">
                            {{ $BlogTag := .blog_tag }}
                            {{ range (where site.RegularPages.ByDate "Section" "blog") }}
                            {{ if in .Params.tags $BlogTag }}
                            <li class="list-group-item">
                                <a href="{{ .Permalink }}" class="link-primary">{{ $.Page.RenderString .Title }}</a>
                            </li>
                            {{ end }}
                            {{ end }}
                        </ul>
                        </p>
                </div>
            </div>
        </div>
        {{- end }}
        {{- end }}
    </div>
</section>
{{- end }}
{{- end }}
<!-- /LINKS -->

{{ end }}