{{ $data := index .Site.Data .Site.Language.Lang }}

{{- if $data.homepage.certifications.enable }}
<section class="gallery" id="certifications">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="heading">
                    {{- with $data.homepage.certifications }}
                    <h4 class="inline-heading-h2">
                        {{ $.Page.RenderString .title }}
                        <a href="{{ .link | absLangURL }}" aria-label='Read more about {{ .Params.image | replaceRE ".*?([\\w-]+).png" "$1" }} certification'>
                            <i class="fa-solid fa-arrow-up-right-from-square"></i>
                        </a>
                    </h4>
                    {{ end }}
                </div>

                <div class="product-slider">
                    {{ range (where .Site.RegularPages "Section" "certifications") }}
                    <div class="block m-3" id="badge-element" data-value="{{ .Permalink }}">
                        <div class="gallery-overlay">
                            <a href="{{ .Permalink }}" class="gallery-popup" aria-label='Read more about {{ .Params.image | replaceRE ".*?([\\w-]+).png" "$1" }} certification'>
                                <i class="fas fa-plus"></i>
                            </a>
                        </div>
                        {{/* HUGO IMAGE RENDERER */}}
                        {{ $image_class := "img-fluid"}}
                        {{ $image_path := .Params.image }}
                        {{ $image := resources.Get $image_path }}
                        {{ $post_image_webp := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d webp q100" $image.Width $image.Height)) }}
                        {{ $post_image_jpg := partial "imageConverter.html" (dict "ImageSrc" $image_path "ImgParam" (printf "%dx%d jpg q100" $image.Width $image.Height)) }}
                        <picture>
                            <source srcset="{{ $post_image_webp }}" type="image/webp">
                            <source srcset="{{ $post_image_jpg }}" type="image/jpeg">
                            <img loading="lazy" class="{{ $image_class }}" src="{{ $post_image_jpg }}" width="{{ $image.Width }}" height="{{ $image.Height  }}" alt='Illustration of {{ $image_path | replaceRE ".*?([\\w-]+).png" "$1" }} badge'>
                        </picture>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>
{{ end }}